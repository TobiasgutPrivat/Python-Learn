import random

# board = [[".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", "x", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", "x", "x", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", "x", "x", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
#     [".",".",".",".",".",".",".",".",".",".",".", ".", ".", ".", ".", ".", ".", ".", ".", "."],]
# lenX: int = len(board)
# lenY: int = len(board[0])

lenX: int = int(input("Enter the number of rows: "))
lenY: int = int(input("Enter the number of columns: "))

board: list[list[str]] = [["." if random.randint(0, 5) else "x" for i in range(lenY)] for j in range(lenX)]

def isLive(x: int, y: int) -> bool:
    if x == -1 or y == -1 or x == lenX or y == lenY:
        return False
    return board[x][y] == "x"

def countNearby(x: int, y: int) -> int:
    count: int = 0
    for i in range(-1, 2):
        for j in range(-1, 2):
            if isLive(x + i, y + j) and not (i == 0 and j == 0):
                count += 1
    return count

while True:
    for line in board:
        print(" ".join(line))
    print()

    if (input("Enter exit to exit... ") == "exit"):
        break

    nextBoard: list[list[str]] = [[None for i in range(lenY)] for j in range(lenX)]
    for x in range(len(board)):
        for y in range(len(line)):
            count: int = countNearby(x, y)
            if (count == 3 and board[x][y] == ".") or (board[x][y] == "x" and (count == 2) or (count == 3)):
                nextBoard[x][y] = "x"
            else:
                nextBoard[x][y] = "."

    board = nextBoard